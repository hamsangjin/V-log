<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/" lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>게시글 상세보기</title>
        <link rel="stylesheet" href="/css/postDetail.css">
    </head>
    <body>
        <div class="container">
            <header>
                <div class="left">
                    <a th:href="@{/vlog}">V-log</a>
                </div>
                <div class="right">
                    <div th:if="${session.user == null}">
                        <a th:href="@{/vlog/loginform}">로그인</a>
                    </div>
                    <div th:if="${session.user != null}">
                        <a th:href="@{/vlog/newpost}">새 글 작성</a>
                        <div class="dropdown">
                            <button class="dropbtn">
                                <img th:src="@{{profileImage}(profileImage=${session.user.profileImage})}" alt="Profile Image" class="profile-image"/>
                            </button>
                            <div class="dropdown-content">
                                <a th:href="@{/vlog/myblog/{userId}(userId=${session.user.id})}">내 블로그</a>
                                <a th:href="@{/vlog/saves}">임시 글</a>
                                <a th:href="@{/vlog/readlist}">읽기 목록</a>
                                <a th:href="@{/vlog/settings}">설정</a>
                                <a th:href="@{/vlog/logout}">로그아웃</a>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!--1. 제목 가운데 정렬로 크게 -->
            <h1 class="post-title" th:text="${post.title}">게시물 제목</h1>

            <!--2-1. 유저 이름, 게시물 작성 시간 왼쪽 정렬-->
            <!-- 2-2. 통계, 수정, 삭제 버튼 오른쪽 정렬 -->
            <div class="post-meta-actions">
                <div class="post-meta">
                    <span class="author" th:text="${blogOwner.name}">유저 이름</span>
                    <span class="created-date" th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd')}">게시물 작성 시간</span>
                </div>
                <div class="post-actions" th:if="${session.user != null} and ${session.user.id == blogOwner.id}">
                    <button th:onclick="|window.location.href='@{/vlog/post/stats/{postId}(postId=${post.id})}'|">통계</button>
                    <button th:onclick="|window.location.href='@{/vlog/post/edit/{postId}(postId=${post.id})}'|">수정</button>
                    <button th:onclick="|window.location.href='@{/vlog/post/delete/{postId}(postId=${post.id})}'|">삭제</button>
                </div>
            </div>

            <!--3. 게시물 썸네일 이미지 출력 가운데 정렬-->
            <div class="thumbnail-container">
                <img class="post-thumbnail" th:src="@{${post.thumbnailImage}}" alt="Thumbnail"/>
            </div>

            <!--4. 게시물 내용들 출력 가운데 정렬-->
            <div class="post-content" th:utext="${post.content}"></div>

            <!--5. 취소, 저장 버튼 오른쪽 정렬-->
<!--            <div class="form-actions">-->
<!--                <button th:onclick="|window.location.href='@{/vlog}'|">취소</button>-->
<!--                <button th:onclick="|window.location.href='@{/vlog/post/save}'|">저장</button>-->
<!--            </div>-->
        </div>
    </body>
</html>